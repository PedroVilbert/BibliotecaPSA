<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>

</h:head>
<h:body>

    <p:megaMenu orientation="horizontal">
        <p:menuitem value="Início" url="#{request.contextPath}/pages/clienteHome.xhtml"/>
        <p:menuitem value="Reservas" url="#{request.contextPath}/pages/reservas.xhtml"/>
    </p:megaMenu>



    <h:form id="formListagem">
        <p:panel>
            <f:facet name="header">
                Bem-vindo, #{sessaoBean.clienteLogado.nome_cliente}!
            </f:facet>
            <p:dataTable id="tb_livro" value="#{LivroBean.livros}" var="livro">
                <p:column headerText="Nome Livro">
                    <h:outputText value="#{livro.nome_livro}"/>
                </p:column>
                <p:column headerText="Autor">
                    <h:outputText value="#{livro.autor_livro}"/>
                </p:column>
                <p:column headerText="Categoria">
                    <h:outputText value="#{livro.categoria_livro}"/>
                </p:column>
                <p:column headerText="Numero Exemplares">
                    <h:outputText value="#{livro.num_ex_livro}"/>
                </p:column>
                <p:column headerText="Localização">
                    <h:outputText value="#{livro.local_livro}"/>
                </p:column>

                <p:column headerText="Opções">
                    <p:commandButton value="Reservar"
                                     actionListener="#{ReservaBean.reservar}"
                                     update="formListagem"
                                     icon="pi pi-plus"
                                     styleClass="ui-button-success">
                        <f:attribute name="livroSelecionado" value="#{livro}" />
                    </p:commandButton>
                </p:column>
            </p:dataTable>
        </p:panel>
    </h:form>
</h:body>
</html>